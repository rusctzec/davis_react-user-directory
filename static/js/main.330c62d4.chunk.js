(this.webpackJsonpreactpractice=this.webpackJsonpreactpractice||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(8),i=a.n(c),u=a(4),o=a(6),s=a(1),d=(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB).open("directory",1);d.onupgradeneeded=function(e){e.target.result.createObjectStore("pending",{autoIncrement:!0})},d.onsuccess=function(e){var t=e.target;n=t.result},d.onerror=function(e){console.log("IndexedDB error",e.target.errorCode)};var m={checkDatabase:function(e){new Promise((function(e,t){!function t(){if(null!=n)return e();setTimeout(t,30)}()})).then((function(){var t=n.transaction(["pending"],"readwrite").objectStore("pending").getAll();t.onsuccess=function(){e(t.result)}}))},saveRecord:function(e){n.transaction(["pending"],"readwrite").objectStore("pending").add(e)}};a(14),a(15);var f=function(e){return l.a.createElement("div",{className:"card"},l.a.createElement("p",null,e.name),l.a.createElement("p",null,e.age," years old"),l.a.createElement("p",null,e.email),e.img?l.a.createElement("img",{src:e.img,alt:e.name}):null)};a(16);var g=function(e){var t,a,n=(t=e.users,a=e.sortState,t.filter((function(e){return!(a.filterField&&!String(e[a.filterField]).toUpperCase().includes(a.filterValue.toUpperCase()))})).sort((function(e,t){var n,r;return"string"==typeof e&&"string"==typeof t?(n=e.toUpperCase(),r=t.toUpperCase()):(n=e,r=t),n[a.sortBy]>r[a.sortBy]?a.descending?-1:1:n[a.sortBy]<r[a.sortBy]?a.descending?1:-1:0})));return l.a.createElement("div",null,l.a.createElement("p",{className:"amount"},n.length," shown of ",e.users.length),l.a.createElement("div",{className:"user-view"},e.loading?l.a.createElement("h1",null,"Loading..."):n.map((function(e,t){var a;return l.a.createElement(f,{name:e.name,age:e.age,email:e.email,img:null===e||void 0===e||null===(a=e.picture)||void 0===a?void 0:a.thumbnail,key:t})}))))},p=a(3),E=(a(17),function(e){var t=Object(r.useState)({name:"",age:0,email:""}),a=Object(u.a)(t,2),n=a[0],c=a[1],i=function(t){var a=Object(p.a)({},t.target.getAttribute("data-field"),t.target.value);e.updateSortState(a)},o=function(e){c(Object(s.a)(Object(s.a)({},n),{},Object(p.a)({},e.target.getAttribute("name"),e.target.value)))};return l.a.createElement("div",{className:"control-panel"},l.a.createElement("h1",null,"Control Panel"),l.a.createElement("h2",null,"Filter:"),l.a.createElement("div",null,l.a.createElement("span",null,"If"),l.a.createElement("select",{"data-field":"filterField",onChange:i},l.a.createElement("option",{value:"name"},"Name"),l.a.createElement("option",{value:"age"},"Age"),l.a.createElement("option",{value:"email"},"Email")),l.a.createElement("span",null,"includes"),l.a.createElement("input",{type:"text","data-field":"filterValue",onChange:i})),l.a.createElement("h2",null,"Sort by:"),l.a.createElement("button",{"data-field":"sortBy",value:"name",onClick:i},"Name"),l.a.createElement("button",{"data-field":"sortBy",value:"age",onClick:i},"Age"),l.a.createElement("button",{"data-field":"sortBy",value:"email",onClick:i},"Email"),l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.addUser(n),c({name:"",age:0,email:""})}},l.a.createElement("h2",null,"Create:"),l.a.createElement("label",null,"Name"),l.a.createElement("input",{required:!0,value:n.name,name:"name",type:"text",onChange:o}),l.a.createElement("label",null,"Age"),l.a.createElement("input",{required:!0,value:n.age,name:"age",min:"0",type:"number",onChange:o}),l.a.createElement("label",null,"Email"),l.a.createElement("input",{required:!0,value:n.email,name:"email",type:"text",onChange:o}),l.a.createElement("button",""===n.name||""===n.email?{disabled:!0}:{},"Add User")))}),b={loading:!0,users:[]};function v(e,t){switch(t.type){case"addUsers":var a=Object(s.a)(Object(s.a)({},e),{},{users:[].concat(Object(o.a)(e.users),Object(o.a)(t.users))});return a.loading=!1,a;default:return e}}var y=function(){var e=Object(r.useReducer)(v,b),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useReducer)((function(e,t){return t.sortBy===e.sortBy&&(t.descending=!e.descending),Object(s.a)(Object(s.a)({},e),t)}),{descending:!0,sortBy:"name",filterField:"name",filterValue:""}),i=Object(u.a)(c,2),o=i[0],d=i[1];return Object(r.useEffect)((function(){m.checkDatabase((function(e){n({type:"addUsers",users:e})}))}),[]),l.a.createElement("div",null,l.a.createElement(g,{users:a.users,sortState:o}),l.a.createElement(E,{addUser:function(e){m.saveRecord(e),n({type:"addUsers",users:[e]})},updateSortState:d}))};i.a.render(l.a.createElement(y,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.330c62d4.chunk.js.map